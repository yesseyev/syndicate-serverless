import asyncio

from open_meteo import OpenMeteo
from open_meteo.models import DailyParameters, HourlyParameters


class MeteoForecast:

    @staticmethod
    async def _main():
        """Show example on using the Open-Meteo API client."""
        async with OpenMeteo() as open_meteo:
            forecast = await open_meteo.forecast(
                latitude=52.27,
                longitude=6.87417,
                current_weather=True,
                hourly=[
                    HourlyParameters.TEMPERATURE_2M,
                    HourlyParameters.RELATIVE_HUMIDITY_2M,
                ],
            )
            print(forecast)
        return forecast

    def get_weather_forecast(self):
        return asyncio.run(self._main())
